#!/usr/bin/env bash
# Localsetup v2 - Deploy step. Thin wrapper; logic in deploy.py.
# On Windows (Git Bash): delegates to deploy.ps1.
set -euo pipefail
if [[ -n "${WINDIR:-}" ]] || [[ "${OSTYPE:-}" == "msys" ]] || [[ "${OSTYPE:-}" == "cygwin" ]]; then
  SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
  exec pwsh -NoProfile -ExecutionPolicy Bypass -File "$SCRIPT_DIR/deploy.ps1" "$@"
fi
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ENGINE_DIR="$(cd "$SCRIPT_DIR/.." && pwd)"
exec python3 "$ENGINE_DIR/tools/deploy.py" "$@"
